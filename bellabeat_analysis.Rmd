---
title: "bellabeat_analysis"
author: "Palash S"
date: "24 April 2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## How Can a Wellness Technolog Company Play It Smart?


### Introduction to Bellabeat

Bellabeat is a high-tech manufacturer of health-foused for women. It is a successful small company and wants be the lager player in the global market. 
The cofounder and chief Creative officer of Bellabeat, belives that analyzing smart device fitness data could help unlock new growth opportunities for the company.

### Business Task


The CCO is focused on digital marketing extensively and she wants to have high-level recommendations to improve marketing strategy by analyzing smart device usage data from one of their product lines to know how people are already using their smart devices. The CCO wants the following analysis :


1.	To get high level recommendations to improve marketing strategy. First analyze how non-Bellabeat consumers use their smart devices and then find some trends in smart device usage. 
2.	Select one Bellabeat product and analyze how the trends from non-Bellabeat customers can be applied to Bellabeat customers.
3.	Find the ways that these trends will influence their marketing strategy.

### Key StakeHolders
The CCO, Sando Mur, and the entire analytics team



## About the Data.

1.	Data is stored on the local computer at the moment for preparing, processing and analysis process.
2.	Data is organized in wide format.
3.	Data can be considered as reliable an comprehensive since it contains data of various activities such as sleep, steps, calories, body weight. However, it is collected from 30 users only so bigger sample size would have been better if we are meant to target larger population, but the data is ‘doable’.
4.	Data is original. These datasets were generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. Individual reports can be parsed by export session ID (column A) or timestamp (column B). Variation between output represents use of different types of Fitbit trackers and individual tracking behaviors / preferences. 
5.	Steps data seems to have missing values and could make the analysis biased if we decide to use steps parameter. 

## Preparing the Data. 

1.	Data has unformatted date column and contains lots of 0 values (in this case are treated as null values or missing values) in following column almost in all columns except Id and ActivityDate. 
2.	The reason for 0 values is unclear as it is not mentioned in the metadata so, to have clean data-set, rows containing 0 values are removed and the ActivityDate column is formatted to proper date format.
3.	For analysis purpose only TotalSteps, Totaldistance and calories columns.
4.	For processing google spreadsheet is used because all the required data for analysis aggregated in one file and dealing with empty values, format correction is very fast using spreadsheets.

## Analyzing the Data.

First install recquired packages.
```{r install packages}

library(tidyverse)
library(skimr)

```
import the csv file and structure of data
```{r load data}

daily_df = read.csv("/Users/palas/Downloads/archive_fitbit/daily_activity_data.csv")

str(daily_df)
glimpse(daily_df)

skim_without_charts(daily_df)
colnames(daily_df)
```


1.	For analysis two variables are used daily Total distance and daily Calories. These two variables can be used to identify relationship between total calories burnt by a user by walking specific miles on an average on daily basis. At first, I calculated the average, min and max distanced walked and calories burnt by each user .

```{r general stats}

summary_activity <- daily_df %>% 
select(Id, TotalDistance, Calories) %>%  
group_by(Id) %>%   
summarise( mean_total_dist = mean(TotalDistance), max_total_dist = max(TotalDistance), min_total_dist = min(TotalDistance),
           mean_total_cal = mean(Calories), max_cal = max(Calories), min_cal = min(Calories))

View(summary_activity)
```

Plotting distance and calories 

```{r ggplot 1}
daily_df %>% 
  ggplot(aes(x = TotalDistance, y = Calories, col = Id)) + geom_point() + geom_smooth(method = lm) + 
  labs(title = "relationship between distance and calories")
```


2.	After plotting the daily total distance against the daily calories burnt, it was clear that some users are walking or running shorter distance and burning higher calories. While some are walking or running longer distance but burning less calories.



3.	LEts plotbased on each user, to identify through out the period of 2 months, how much they were running and burning calories. 

```{r ggplot 2}
daily_df %>% 
  ggplot(aes(x = TotalDistance, y = Calories)) + geom_point() + facet_wrap(~Id) + 
  labs(title = "relationship between distance and calories for each user")
```


4.	To specifically get the idea on how much usually the users burn calories while walking or travelling how much distance, lets categorize the data based on the amount of calorie loss. 
```{r category of calories}
calories_burn <- daily_df %>% 
  
  group_by(Id)


  calories_burn$cal_categories = case_when(
    
    calories_burn$Calories >= 3500 ~ "high cal-loss",
    calories_burn$Calories >= 1500 ~ "mid cal-loss",
    calories_burn$Calories < 1500 ~ "less cal-loss")
  

View(calories_burn)

colnames(calories_burn)


```

i.	Less cal-loss – categorized users who lost less than 1500 calories each day.
ii.	Mid cal-loss – categorized users who lost calories between 1500 to 3500 each day.
iii.	High cal-loss – categorized users who lost calories between 3500 above each day.

Lets see users in the above category

```{r boxplot}

calories_burn %>% 
  ggplot(aes(x = TotalDistance, y = Calories)) + geom_boxplot() +
  facet_wrap(~cal_categories ) + labs(title = "calories burnt vs Total distace by users by category")
```

```{r}


calories_burn %>% 
  ggplot(aes(x = TotalDistance, y = Calories, col = Id, shape = cal_categories)) + geom_point() +
  facet_wrap(~cal_categories ) + labs(title = "calories burnt vs Total distace by users by category")
```

5.	Based on the boxplot graphs, it can be seen how and why some sures are burning less calories than others. It can also be assumed based on the visuals that, users with high calorie loss are running faster and usually covering longer distance and users in less cal-loss category are walking less distance and users with mid calorie loss are walking or slow running.


6.	Later findings shows us that how much each user is actually burning calories and walking / running distance. 
```{r}

less_cal_user <- calories_burn %>% 
  filter(cal_categories == "less cal-loss") %>% 
  group_by(cal_categories) 


less_cal_user %>% 
  ggplot(aes(x = TotalDistance, y = Calories, col = Id)) + geom_point() + facet_wrap(~Id) + 
  labs(title = "relationship between distance and low calories loss")


mid_cal_user <- calories_burn %>% 
  filter(cal_categories == "mid cal-loss") %>% 
  group_by(cal_categories) 


mid_cal_user %>% 
  ggplot(aes(x = TotalDistance, y = Calories, col = Id)) + geom_point() + facet_wrap(~Id) + 
  labs(title = "relationship between distance and mind calories loss users")


high_cal_user <- calories_burn %>% 
  filter(cal_categories == "high cal-loss") %>% 
  group_by(cal_categories) 


high_cal_user %>% 
  ggplot(aes(x = TotalDistance, y = Calories, col = Id)) + geom_point() + facet_wrap(~Id) + 
  labs(title = "relationship between distance and high calories loss users")

```

## Recomendations Based on alaysis.
1.  Based on the analysis, most users are between running slow or walking slow but they cover longer distance.
2.  Marketing startegy should be focused on bringng more features to the fitness band who like cover longer distance.
3.  Findings also suggest that good amount of users like to cover shorter distance but burn high calories. 
4.  Main strategy here can be introducing enhanced tracking details while running and bringing features that could influence people 
with less calorie loss by burning higher calories while they are slow walking or performing less intensive activity. 
